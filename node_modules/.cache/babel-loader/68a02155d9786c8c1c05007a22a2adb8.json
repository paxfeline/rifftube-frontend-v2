{"ast":null,"code":"var _jsxFileName = \"/Users/davidnewberry/Documents/rifftube-git/RiffTube/front-end/src/components/RiffControls/RiffDetail.js\";\nimport React, { useState, useEffect, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport { editRiff, deleteRiff, updateRiffTime } from '../../actions/index.js';\nimport Delete from \"../../images/delete-24px.svg\";\nimport Edit from \"../../images/edit-24px.svg\";\nimport Audio from \"../../images/settings_voice-24px.svg\";\nimport Text from \"../../images/chat-24px.svg\";\n/* this component is where a user can edit their riff */\n\nfunction RiffDetail(props) {\n  const [visible, setVisible] = useState(false); //useEffect(() => { setTimeout(() => {setVisible(true);}, 20000); }, []);\n\n  useEffect(() => {\n    setVisible(true);\n  }, []);\n  const divRef = createRef();\n  useEffect(() => {\n    if (props.scroll) divRef.current.parentNode.scrollTop = divRef.current.offsetTop;\n  }, [divRef, props.scroll]);\n  const timeRef = createRef();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: divRef,\n    className: `riff-detail${props.selected ? ' riff-detail-selected' : ''}${visible ? '' : ' invisible'}`,\n    style: props.style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      window.rifftubePlayer.seekTo(Math.max(props.time - 3, 0), true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, \"jump to\"), props.type === 'audio' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"audio-icon riff-type-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"audio\",\n    src: Audio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-icon riff-type-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"text\",\n    src: Text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"edit-time\",\n    step: \"0.5\",\n    defaultValue: props.time.toFixed(2),\n    ref: timeRef,\n    onChange: () => {\n      props.updateRiffTime(props.googleUser.getAuthResponse().id_token, timeRef.current.value, props.video_id, props.id, props.websocket);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit-riff-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"riff-button\",\n    onClick: () => props.editRiff(props.index, props.type === 'audio' ? props.id : null, // weird but ok; yields id or null/false\n    !props.riffsAudio.all[props.id]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"edit button\",\n    src: Edit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"riff-button\",\n    onClick: () => {\n      if (window.confirm('Delete?')) props.deleteRiff(props.id, props.googleUser, props.video_id, props.websocket);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"delete button\",\n    src: Delete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }))));\n}\n\nconst mapStateToProps = state => ({\n  googleUser: state.googleUser,\n  riffsAudio: state.riffsAudio,\n  websocket: state.websocket\n});\n\nconst mapDispatchToProps = {\n  editRiff,\n  deleteRiff,\n  updateRiffTime\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(RiffDetail);","map":{"version":3,"names":["React","useState","useEffect","createRef","connect","editRiff","deleteRiff","updateRiffTime","RiffDetail","props","visible","setVisible","divRef","scroll","current","parentNode","scrollTop","offsetTop","timeRef","selected","style","window","rifftubePlayer","seekTo","Math","max","time","type","Audio","Text","toFixed","googleUser","getAuthResponse","id_token","value","video_id","id","websocket","index","riffsAudio","all","Edit","confirm","Delete","mapStateToProps","state","mapDispatchToProps"],"sources":["/Users/davidnewberry/Documents/rifftube-git/RiffTube/front-end/src/components/RiffControls/RiffDetail.js"],"sourcesContent":["import React, { useState, useEffect, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport { editRiff, deleteRiff, updateRiffTime } from '../../actions/index.js';\nimport Delete from '../../images/delete-24px.svg';\nimport Edit from '../../images/edit-24px.svg';\nimport Audio from '../../images/settings_voice-24px.svg';\nimport Text from '../../images/chat-24px.svg';\n\n/* this component is where a user can edit their riff */\nfunction RiffDetail(props) {\n  const [visible, setVisible] = useState(false);\n\n  //useEffect(() => { setTimeout(() => {setVisible(true);}, 20000); }, []);\n  useEffect(() => {\n    setVisible(true);\n  }, []);\n\n  const divRef = createRef();\n\n  useEffect(() => {\n    if (props.scroll)\n      divRef.current.parentNode.scrollTop = divRef.current.offsetTop;\n  }, [divRef, props.scroll]);\n\n  const timeRef = createRef();\n\n  return (\n    <div\n      ref={divRef}\n      className={`riff-detail${props.selected ? ' riff-detail-selected' : ''}${\n        visible ? '' : ' invisible'\n      }`}\n      style={props.style}\n    >\n      <button\n        onClick={() => {\n          window.rifftubePlayer.seekTo(Math.max(props.time - 3, 0), true);\n        }}\n      >\n        jump to\n      </button>\n      {props.type === 'audio' ? (\n        <div className=\"audio-icon riff-type-icon\">\n          <img alt=\"audio\" src={Audio} />\n        </div>\n      ) : (\n        <div className=\"text-icon riff-type-icon\">\n          <img alt=\"text\" src={Text} />\n        </div>\n      )}\n      {/* \n      <li>\n        start time: {props.time ? props.time.toFixed(2) : null}\n      </li>\n      <li>duration: {props.duration.toFixed(2)}secs</li>\n      <li>type: {props.type}</li>\n      */}\n      <input\n        type=\"number\"\n        className=\"edit-time\"\n        step=\"0.5\"\n        defaultValue={props.time.toFixed(2)}\n        ref={timeRef}\n        onChange={() => {\n          props.updateRiffTime(\n            props.googleUser.getAuthResponse().id_token,\n            timeRef.current.value,\n            props.video_id,\n            props.id,\n            props.websocket\n          );\n        }}\n      ></input>\n      <div className=\"edit-riff-buttons\">\n        <button\n          className=\"riff-button\"\n          onClick={() =>\n            props.editRiff(\n              props.index,\n              props.type === 'audio' ? props.id : null, // weird but ok; yields id or null/false\n              !props.riffsAudio.all[props.id]\n            )\n          }\n        >\n          <img alt=\"edit button\" src={Edit} />\n        </button>\n        <button\n          className=\"riff-button\"\n          onClick={() => {\n            if (window.confirm('Delete?'))\n              props.deleteRiff(\n                props.id,\n                props.googleUser,\n                props.video_id,\n                props.websocket\n              );\n          }}\n        >\n          <img alt=\"delete button\" src={Delete} />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  googleUser: state.googleUser,\n  riffsAudio: state.riffsAudio,\n  websocket: state.websocket,\n});\n\nconst mapDispatchToProps = {\n  editRiff,\n  deleteRiff,\n  updateRiffTime,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RiffDetail);\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,EAAmBC,UAAnB,EAA+BC,cAA/B,QAAqD,wBAArD;;;;;AAMA;;AACA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;EACzB,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,KAAD,CAAtC,CADyB,CAGzB;;EACAC,SAAS,CAAC,MAAM;IACdS,UAAU,CAAC,IAAD,CAAV;EACD,CAFQ,EAEN,EAFM,CAAT;EAIA,MAAMC,MAAM,GAAGT,SAAS,EAAxB;EAEAD,SAAS,CAAC,MAAM;IACd,IAAIO,KAAK,CAACI,MAAV,EACED,MAAM,CAACE,OAAP,CAAeC,UAAf,CAA0BC,SAA1B,GAAsCJ,MAAM,CAACE,OAAP,CAAeG,SAArD;EACH,CAHQ,EAGN,CAACL,MAAD,EAASH,KAAK,CAACI,MAAf,CAHM,CAAT;EAKA,MAAMK,OAAO,GAAGf,SAAS,EAAzB;EAEA,oBACE;IACE,GAAG,EAAES,MADP;IAEE,SAAS,EAAG,cAAaH,KAAK,CAACU,QAAN,GAAiB,uBAAjB,GAA2C,EAAG,GACrET,OAAO,GAAG,EAAH,GAAQ,YAChB,EAJH;IAKE,KAAK,EAAED,KAAK,CAACW,KALf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAOE;IACE,OAAO,EAAE,MAAM;MACbC,MAAM,CAACC,cAAP,CAAsBC,MAAtB,CAA6BC,IAAI,CAACC,GAAL,CAAShB,KAAK,CAACiB,IAAN,GAAa,CAAtB,EAAyB,CAAzB,CAA7B,EAA0D,IAA1D;IACD,CAHH;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,aAPF,EAcGjB,KAAK,CAACkB,IAAN,KAAe,OAAf,gBACC;IAAK,SAAS,EAAC,2BAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,GAAG,EAAC,OAAT;IAAiB,GAAG,EAAEC,KAAtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CADD,gBAKC;IAAK,SAAS,EAAC,0BAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,GAAG,EAAC,MAAT;IAAgB,GAAG,EAAEC,IAArB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CAnBJ,eA8BE;IACE,IAAI,EAAC,QADP;IAEE,SAAS,EAAC,WAFZ;IAGE,IAAI,EAAC,KAHP;IAIE,YAAY,EAAEpB,KAAK,CAACiB,IAAN,CAAWI,OAAX,CAAmB,CAAnB,CAJhB;IAKE,GAAG,EAAEZ,OALP;IAME,QAAQ,EAAE,MAAM;MACdT,KAAK,CAACF,cAAN,CACEE,KAAK,CAACsB,UAAN,CAAiBC,eAAjB,GAAmCC,QADrC,EAEEf,OAAO,CAACJ,OAAR,CAAgBoB,KAFlB,EAGEzB,KAAK,CAAC0B,QAHR,EAIE1B,KAAK,CAAC2B,EAJR,EAKE3B,KAAK,CAAC4B,SALR;IAOD,CAdH;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EA9BF,eA8CE;IAAK,SAAS,EAAC,mBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IACE,SAAS,EAAC,aADZ;IAEE,OAAO,EAAE,MACP5B,KAAK,CAACJ,QAAN,CACEI,KAAK,CAAC6B,KADR,EAEE7B,KAAK,CAACkB,IAAN,KAAe,OAAf,GAAyBlB,KAAK,CAAC2B,EAA/B,GAAoC,IAFtC,EAE4C;IAC1C,CAAC3B,KAAK,CAAC8B,UAAN,CAAiBC,GAAjB,CAAqB/B,KAAK,CAAC2B,EAA3B,CAHH,CAHJ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAUE;IAAK,GAAG,EAAC,aAAT;IAAuB,GAAG,EAAEK,IAA5B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAVF,CADF,eAaE;IACE,SAAS,EAAC,aADZ;IAEE,OAAO,EAAE,MAAM;MACb,IAAIpB,MAAM,CAACqB,OAAP,CAAe,SAAf,CAAJ,EACEjC,KAAK,CAACH,UAAN,CACEG,KAAK,CAAC2B,EADR,EAEE3B,KAAK,CAACsB,UAFR,EAGEtB,KAAK,CAAC0B,QAHR,EAIE1B,KAAK,CAAC4B,SAJR;IAMH,CAVH;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAYE;IAAK,GAAG,EAAC,eAAT;IAAyB,GAAG,EAAEM,MAA9B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAZF,CAbF,CA9CF,CADF;AA6ED;;AAED,MAAMC,eAAe,GAAIC,KAAD,KAAY;EAClCd,UAAU,EAAEc,KAAK,CAACd,UADgB;EAElCQ,UAAU,EAAEM,KAAK,CAACN,UAFgB;EAGlCF,SAAS,EAAEQ,KAAK,CAACR;AAHiB,CAAZ,CAAxB;;AAMA,MAAMS,kBAAkB,GAAG;EACzBzC,QADyB;EAEzBC,UAFyB;EAGzBC;AAHyB,CAA3B;AAMA,eAAeH,OAAO,CAACwC,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CtC,UAA7C,CAAf"},"metadata":{},"sourceType":"module"}